StarJs={};StarJs.b={};StarJs.b.o=Math.PI/180;StarJs.b.ha=180/Math.PI;StarJs.b.ga=648E3/Math.PI;StarJs.b.s=Math.PI/648E3;StarJs.b.p=2*Math.PI;StarJs.b.da=12/Math.PI;StarJs.b.ba=function(a){return a*a};StarJs.b.r=function(a){return a-Math.floor(a)};StarJs.b.I=function(a,b){return b*StarJs.b.r(a/b)};
StarJs.b.t=function(a,b,c,d){if(arguments.length===4){this.sign=a;this.degree=b;this.minute=c;this.second=d}else{var e=a;this.sign=1;if(e<0){e=-e;this.sign=-1}this.degree=Math.floor(e);e=60*(e-this.degree);this.minute=Math.floor(e);this.second=e=60*(e-this.minute)}};StarJs.b.H=function(a,b,c,d){return a*(b+c/60+d/3600)};StarJs.b.t.prototype.H=function(){return StarJs.b.H(this.sign,this.degree,this.minute,this.second)};StarJs.b.t.S=function(a){return new StarJs.b.t(a)};
StarJs.b.ia=function(a){a=StarJs.b.I(a,StarJs.b.p);a=StarJs.b.S(StarJs.b.da*a);a.hour=a.deg;delete a.deg;delete a.sign;return a};StarJs.b.aa=function(a,b,c){var d=0.5*(c+a)-b,e=0.5*(c-a);a=-e/(2*d);c=(d*a+e)*a+b;e=e*e-4*d*b;b=[];if(e>=0){e=0.5*Math.sqrt(e)/Math.abs(d);d=a-e;e=a+e;Math.abs(d)<=1&&b.push(d);Math.abs(e)<=1&&b.push(e)}return{xe:a,ye:c,roots:b}};StarJs.b.Q=function(a){return(Math.exp(a)-Math.exp(-a))/2};StarJs.b.L=function(a){return(Math.exp(a)+Math.exp(-a))/2};StarJs.c={};StarJs.c.k=function(a,b,c){this.x=a;this.y=b;this.z=c};(function(a){a.ta=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};a.add=function(b){return new StarJs.c.k(this.x+b.x,this.y+b.y,this.z+b.z)};a.sub=function(b){return new StarJs.c.k(this.x-b.x,this.y-b.y,this.z-b.z)};a.va=function(){return new StarJs.c.k(-this.x,-this.y,-this.z)};a.scale=function(b){return new StarJs.c.k(b*this.x,b*this.y,b*this.z)};a.K=function(){return new StarJs.c.k(this.x,this.y,this.z)}})(StarJs.c.k.prototype);
StarJs.c.m=function(a,b,c){var d=arguments.length;if(d===2)c=1;if(d===2||d===3){this.phi=a;this.theta=b;this.rad=c}else{d=a.x*a.x+a.y*a.y;this.rad=Math.sqrt(d+a.z*a.z);this.phi=a.x===0&&a.y===0?0:Math.atan2(a.y,a.x);if(this.phi<0)this.phi+=StarJs.b.p;d=Math.sqrt(d);this.theta=a.z===0&&d===0?0:Math.atan2(a.z,d)}};
(function(a){a.G=function(){var b=Math.cos(this.theta),c=this.rad;return new StarJs.c.k(c*b*Math.cos(this.phi),c*b*Math.sin(this.phi),c*Math.sin(this.theta))};a.K=function(){return new StarJs.c.m(this.rad,this.phi,this.theta)}})(StarJs.c.m.prototype);StarJs.c.g=function(a,b,c){this.mat=arguments.length===3?[[a.x,a.y,a.z],[b.x,b.y,b.z],[c.x,c.y,c.z]]:b?a:[[a[0][0],a[0][1],a[0][2]],[a[1][0],a[1][1],a[1][2]],[a[2][0],a[2][1],a[2][2]]]};
(function(a){a.apply=function(b){var c=this.mat[0],d=c[0]*b.x+c[1]*b.y+c[2]*b.z;c=this.mat[1];var e=c[0]*b.x+c[1]*b.y+c[2]*b.z;c=this.mat[2];return new StarJs.c.k(d,e,c[0]*b.x+c[1]*b.y+c[2]*b.z)};a.v=function(b){var c=[[0,0,0],[0,0,0],[0,0,0]];b=b.mat;for(var d=0;d<3;d+=1)for(var e=this.mat[d],f=c[d],h=0;h<3;h+=1)for(var j=0;j<3;j+=1)f[h]+=e[j]*b[j][h];return new StarJs.c.g(c,true)}})(StarJs.c.g.prototype);
StarJs.c.g.A=function(a){var b=Math.cos(a);a=Math.sin(a);return new StarJs.c.g([[1,0,0],[0,b,a],[0,-a,b]])};StarJs.c.g.F=function(a){var b=Math.cos(a);a=Math.sin(a);return new StarJs.c.g([[b,0,-a],[0,1,0],[a,0,b]])};StarJs.c.g.B=function(a){var b=Math.cos(a);a=Math.sin(a);return new StarJs.c.g([[b,a,0],[-a,b,0],[0,0,1]])};StarJs.j={};StarJs.j.DEFAULT_JULIAN_DATE={year:1582,month:10,day:4};StarJs.j.DEFAULT_JULIAN_JD=2299161;StarJs.j.JD_MJD=2400000.5;StarJs.j.za=function(a){if(typeof a!=="number")a=a.getTime();return a/864E5+40587};
StarJs.j.ua=function(a,b){if(typeof b==="undefined")b=StarJs.j.DEFAULT_JULIAN_JD;var c=Math.floor(a)+2400001,d,e;if(c<b)b=c+1524;else{b=Math.floor((c-1867216.25)/36524.25);b=c+b-Math.floor(b/4)+1525}c=Math.floor((b-122.1)/365.25);d=365*c+Math.floor(c/4);e=Math.floor((b-d)/30.6001);b=b-d-Math.floor(30.6001*e);e=e-1-12*Math.floor(e/14);c=c-4715-Math.floor((7+e)/10);a=StarJs.j.X(24*(a-Math.floor(a)));a.year=c;a.month=e;a.day=b;return a};StarJs.j.W=function(a,b,c){return a+b/60+c/3600};
StarJs.j.X=function(a){a=new StarJs.b.t(a);return{hour:a.degree,minute:a.minute,second:a.second}};StarJs.j.ma=function(a,b){if(typeof b==="undefined")b=StarJs.j.DEFAULT_JULIAN_DATE;var c=a.year,d=a.month;if(d<=2){d+=12;c-=1}return 365*c-679004+(c<=b.year&&d<=b.month&&a.day<=b.day?-2+Math.floor((c+4716)/4)-1179:Math.floor(c/400)-Math.floor(c/100)+Math.floor(c/4))+Math.floor(30.6001*(d+1))+a.day+StarJs.j.W(a.hour,a.minute,a.second)/24};StarJs.j.P=function(a){return(a-51544.5)/36525};
StarJs.j.V=function(a){var b=Math.floor(a),c=86400*(a-b);b=StarJs.j.P(b);a=StarJs.j.P(a);return StarJs.b.p/86400*StarJs.b.I(24110.54841+8640184.812866*b+1.0027379093*c+(0.093104-6.2E-6*a)*a*a,86400)};StarJs.l={};StarJs.l.wa=function(a,b){b=b-a;var c,d;c=174.876383889*StarJs.b.o+((3289.4789+0.60622*a)*a+(-869.8089-0.50491*a+0.03536*b)*b)*StarJs.b.s;d=(47.0029-(0.06603-5.98E-4*a)*a+(-0.03302+0.00598*a+6.0E-5*b)*b)*b*StarJs.b.s;return StarJs.c.g.B(-(c+(5029.0966+(2.22226-4.2E-5*a)*a+(1.11113-4.2E-5*a-6.0E-6*b)*b)*b*StarJs.b.s)).v(StarJs.c.g.A(d)).v(StarJs.c.g.B(c))};
StarJs.l.xa=function(a,b){var c=b-a,d;b=(2306.2181+(1.39656-1.39E-4*a)*a+(0.30188-3.44E-4*a+0.017998*c)*c)*c*StarJs.b.s;d=b+(0.7928+4.11E-4*a+2.05E-4*c)*c*c*StarJs.b.s;a=(2004.3109-(0.8533+0.00217*a)*a-(0.42665+2.17E-4*a+0.041833*c)*c)*c*StarJs.b.s;return StarJs.c.g.B(-d).v(StarJs.c.g.F(a)).v(StarJs.c.g.B(-b))};StarJs.l.M=function(a){return(23.43929111-(46.815+(5.9E-4-0.001813*a)*a)*a/3600)*StarJs.b.o};StarJs.l.oa=function(a){return StarJs.c.g.A(StarJs.l.M(a))};StarJs.l.na=function(a){return StarJs.c.g.A(-StarJs.l.M(a))};
StarJs.l.pa=function(a,b,c){a=StarJs.c.g.F(Math.PI/2-c).apply((new StarJs.c.m(b,a)).G());a=new StarJs.c.m(a);return{h:a.theta,az:a.phi}};StarJs.l.qa=function(a,b,c){a=StarJs.c.g.F(-Math.PI/2+c).apply((new StarJs.c.m(b,c)).G());a=new StarJs.c.m(a);return{dec:a.theta,tau:a.phi}};StarJs.f={};StarJs.f.DEFAULT_ITERATIONS=100;StarJs.f.DEFAULT_PRECISION=1.0E-9;StarJs.f.T=function(a,b,c){var d,e=StarJs.f.DEFAULT_PRECISION;if(c===undefined)c=StarJs.f.DEFAULT_ITERATIONS;a=StarJs.b.I(a,StarJs.b.p);d=Math.sin(a);var f=a+b*d/(1-Math.sin(a+b)+d);do{d=f-b*Math.sin(f)-a;f-=d/(1-b*Math.cos(f))}while(c-- >0&&d>e);return c>0?f:null};StarJs.f.N=function(a,b,c,d){b=StarJs.f.T(b,d);a=Math.cos(b);b=Math.sin(b);return new StarJs.c.k(c*(a-d),c*Math.sqrt((1-d)*(1+d))*b,0)};
StarJs.f.$=function(a,b,c,d,e,f){function h(u,o){var t=StarJs.f.DEFAULT_PRECISION,q,m,i,g,r;i=g=r=0;m=q=1;do{i+=m;m/=2*q;g+=m;m/=2*q+1;r+=m;m*=-u;q+=1}while(Math.abs(m)>=t);o.ja=i;o.ka=g;o.la=r}if(f===undefined)f=StarJs.f.DEFAULT_ITERATIONS;var j=0,k={},l,n=StarJs.f.DEFAULT_PRECISION;f=0.5*e;b=Math.sqrt(a)*(c-b);do{a=j;j=1.5*Math.sqrt(f/(d*d*d))*b;j=Math.pow(Math.sqrt(j*j+1)+j,1/3);c=j-1/j;l=c*c;j=l*(1-e)/f;h(j,k);f=3*e*k.la}while(Math.abs(j-a)>=n);return new StarJs.c.k(d*(1-l*k.ka/f),d*Math.sqrt((1+
e)/f)*c*k.ja,0)};StarJs.f.Y=function(a,b,c){if(c===undefined)c=StarJs.f.DEFAULT_ITERATIONS;var d=StarJs.f.DEFAULT_PRECISION,e=0,f,h;f=Math.log(2*Math.abs(a)/b+1.8);if(a<0)f=-f;do{h=b*StarJs.b.Q(f)-f-a;f-=h/(b*StarJs.b.L(f)-1);++e;if(e===c)return null}while(Math.abs(h)>d*(1+Math.abs(f+a)));return f};StarJs.f.Z=function(a,b,c,d,e){d=Math.abs(d);b=StarJs.f.Y(Math.sqrt(a/d)*(c-b)/d,e);a=StarJs.b.L(b);b=StarJs.b.Q(b);return new StarJs.c.k(d*(e-a),d*Math.sqrt((e+1)*(e-1))*b,0)};
StarJs.f.sa=function(a,b,c,d,e,f){var h,j,k;j=Math.abs(1-e);k=j/d;h=Math.sqrt(a)*(c-b)*Math.sqrt(k*k*k);a=h<0.1&&j<0.1?StarJs.f.$(a,b,c,d,e):e<1?StarJs.f.N(a,h,1/k,e):StarJs.f.Z(a,b,c,1/k,e);return f.apply(a)};StarJs.f.U=function(a,b,c){return StarJs.c.g.B(-a).v(StarJs.c.g.A(-b)).v(StarJs.c.g.B(-c))};StarJs.d={};StarJs.d.J=23.43920111*StarJs.b.o;
StarJs.d.D=function(a){var b,c,d,e,f,h;b=StarJs.b.r(0.606433+1336.855225*a);c=StarJs.b.p*StarJs.b.r(0.374897+1325.55241*a);d=StarJs.b.p*StarJs.b.r(0.993133+99.997361*a);f=StarJs.b.p*StarJs.b.r(0.827361+1236.853086*a);e=StarJs.b.p*StarJs.b.r(0.259086+1342.227825*a);h=+22640*Math.sin(c)-4586*Math.sin(c-2*f)+2370*Math.sin(2*f)+769*Math.sin(2*c)-668*Math.sin(d)-412*Math.sin(2*e)+-212*Math.sin(2*c-2*f)-206*Math.sin(c+d-2*f)+192*Math.sin(c+2*f)-165*Math.sin(d-2*f)+-125*Math.sin(f)-110*Math.sin(c+d)+148*
Math.sin(c-d)+-55*Math.sin(2*e-2*f);a=e+(h+412*Math.sin(2*e)+541*Math.sin(d))*StarJs.b.s;f=e-2*f;c=-526*Math.sin(f)+44*Math.sin(c+f)-31*Math.sin(f-c)+-23*Math.sin(d+f)+11*Math.sin(f-d)-25*Math.sin(e-2*c)+21*Math.sin(e-c);b=StarJs.b.p*StarJs.b.r(b+h/1296E3);a=(18520*Math.sin(a)+c)*StarJs.b.s;b=StarJs.c.g.A(-StarJs.d.J).apply((new StarJs.c.m(b,a)).G());b=new StarJs.c.m(b);return{ra:b.phi,dec:b.theta}};
StarJs.d.u=function(a){var b,c;c=StarJs.b.r(0.993133+99.997361*a);b=StarJs.b.p*c;a=StarJs.b.p*StarJs.b.r(0.7859453+c+(6893*Math.sin(b)+72*Math.sin(2*b)+6191.2*a)/1296E3);a=StarJs.c.g.A(-StarJs.d.J).apply((new StarJs.c.m(a,0)).G());a=new StarJs.c.m(a);return{ra:a.phi,dec:a.theta}};
StarJs.d.fa=[{body:"moon",name:"day",title:"Moon",sinh0:Math.sin(+8/60*StarJs.b.o),posFunc:StarJs.d.D},{body:"sun",name:"day",title:"Sun",sinh0:Math.sin(-50/60*StarJs.b.o),posFunc:StarJs.d.u},{body:"sun",name:"twilightC",title:"Civil twilight",sinh0:Math.sin(-6*StarJs.b.o),posFunc:StarJs.d.u},{body:"sun",name:"twilightN",title:"Nautical twilight",sinh0:Math.sin(-12*StarJs.b.o),posFunc:StarJs.d.u},{body:"sun",name:"twilightA",title:"Astronomical twilight",sinh0:Math.sin(-18*StarJs.b.o),posFunc:StarJs.d.u}];
StarJs.d.ya=function(a,b,c,d,e){function f(s,v,y,z,A){s=s((v-51544.5)/36525);v=StarJs.j.V(v)+y-s.ra;return A*Math.sin(s.dec)+z*Math.cos(s.dec)*Math.cos(v)}var h=StarJs.d.fa,j=[],k,l,n,u=1/24,o={},t={},q={},m=Math.cos(d);d=Math.sin(d);var i,g,r={sun:{},moon:{}},x={sun:{},moon:{}},w={sun:{},moon:{}},p={};if(typeof e==="undefined")e=function(s){return s};n=a;o.moon=f(StarJs.d.D,n,c,m,d);o.sun=f(StarJs.d.u,n,c,m,d);for(l=0;l<h.length;l+=1){g=h[l];i=g.name;r[g.body][i]=o[g.body]-g.sinh0}for(;n<b;){e={moon:{midnight:o.moon},
sun:{midnight:o.sun}};for(k=1;k<24;k+=2){l=n+u;n=l+u;t.moon=f(StarJs.d.D,l,c,m,d);t.sun=f(StarJs.d.u,l,c,m,d);q.moon=f(StarJs.d.D,n,c,m,d);q.sun=f(StarJs.d.u,n,c,m,d);for(l=0;l<h.length;l+=1){g=h[l];i=g.name;e[g.body][i]=e[g.body][i]||{};x[g.body][i]=t[g.body]-g.sinh0;w[g.body][i]=q[g.body]-g.sinh0;p=StarJs.b.aa(r[g.body][i],x[g.body][i],w[g.body][i]);switch(p.roots.length){case 0:break;case 1:if(r[g.body][i]<0)e[g.body][i].rise=k+p.roots[0];else e[g.body][i].set=k+p.roots[0];break;case 2:if(p.ye<
0){e[g.body][i].rise=k+p.roots[1];e[g.body][i].set=k+p.roots[0]}else{e[g.body][i].rise=k+p.roots[0];e[g.body][i].set=k+p.roots[1]}break}}r=w;w={moon:{},sun:{}};n=n}for(l=0;l<h.length;l+=1){g=h[l];i=g.name;if(!e[g.body][i].set&&!e[g.body][i].rise)e[g.body][i].alwaysAbove=t[g.body]>g.sinh0}n=a+=1;j.push(e)}return j};StarJs.d.C=function(){this.name="Sun"};StarJs.d.C.ca=new StarJs.c.k(0,0,0);StarJs.d.R=StarJs.b.ba(0.01720209895);StarJs.d.C.prototype.keplerCoord=function(){return StarJs.d.C.ca};
StarJs.d.q=function(a,b){this.name=a;this.a=b.a;this.ec=b.e;this.m0=b.M0;this.n=b.n;this.omega=b.O;this.i=b.i;this.w=b.w;this.t0=b.T0};StarJs.d.q.prototype.keplerCoord=function(a){var b=StarJs.f.N(StarJs.d.R,StarJs.b.o*(this.m0+this.n*(a-this.t0)),this.a,this.ec);return StarJs.f.U(StarJs.b.o*(this.omega+1.397*a),StarJs.b.o*this.i,StarJs.b.o*(this.w-this.omega)).apply(b)};
StarJs.d.ea={Sun:new StarJs.d.C,Mercury:new StarJs.d.q("Mercury",{a:0.387099,e:0.205634,M0:174.7947,n:149472.6738,O:48.331,i:7.0048,w:77.4552,T0:0}),Venus:new StarJs.d.q("Venus",{a:0.723332,e:0.006773,M0:50.4071,n:58517.8149,O:76.68,i:3.3946,w:131.5718,T0:0}),Earth:new StarJs.d.q("Earth",{a:1,e:0.016709,M0:357.5256,n:35999.372,O:174.876,i:0,w:102.94,T0:0}),Mars:new StarJs.d.q("Mars",{a:1.523692,e:0.093405,M0:19.3879,n:19140.3023,O:49.557,i:1.8496,w:336.059,T0:0}),Jupiter:new StarJs.d.q("Jupiter",
{a:5.204267,e:0.048775,M0:18.8185,n:3033.6272,O:100.4908,i:1.3046,w:15.5576,T0:0}),Saturn:new StarJs.d.q("Saturn",{a:9.582018,e:0.055723,M0:320.3477,n:1213.8664,O:113.6427,i:2.4852,w:89.6567,T0:0}),Uranus:new StarJs.d.q("Uranus",{a:19.229412,e:0.044406,M0:142.9559,n:426.9282,O:73.9893,i:0.7726,w:170.531,T0:0}),Neptune:new StarJs.d.q("Neptune",{a:30.103658,e:0.011214,M0:267.7649,n:217.9599,O:131.7942,i:1.768,w:37.4435,T0:0})};StarJs.Math=StarJs.b;StarJs.b.DEG2RAD=StarJs.b.o;StarJs.b.RAD2DEG=StarJs.b.ha;StarJs.b.RAD2ARCS=StarJs.b.ga;StarJs.b.ARCS2RAD=StarJs.b.s;StarJs.b.PI2=StarJs.b.p;StarJs.b.sqr=StarJs.b.ba;StarJs.b.frac=StarJs.b.r;StarJs.b.mod=StarJs.b.I;StarJs.b.Dms=StarJs.b.t;StarJs.b.dms2deg=StarJs.b.H;StarJs.b.t.prototype.dms2deg=StarJs.b.t.prototype.H;StarJs.b.t.deg2dms=StarJs.b.t.S;StarJs.b.angle2hms=StarJs.b.ia;StarJs.b.quadInterpolation=StarJs.b.aa;StarJs.b.sinh=StarJs.b.Q;StarJs.b.cosh=StarJs.b.L;
StarJs.Coord=StarJs.l;StarJs.l.precessionEclMatrix=StarJs.l.wa;StarJs.l.precessionEquMatrix=StarJs.l.xa;StarJs.l.eclipticObliquity=StarJs.l.M;StarJs.l.equ2eclMatrix=StarJs.l.oa;StarJs.l.ecl2equMatrix=StarJs.l.na;StarJs.l.equ2hor=StarJs.l.pa;StarJs.l.hor2equ=StarJs.l.qa;StarJs.Kepler=StarJs.f;StarJs.f.eccAnomaly=StarJs.f.T;StarJs.f.elliptic=StarJs.f.N;StarJs.f.parabolic=StarJs.f.$;StarJs.f.hypAnom=StarJs.f.Y;StarJs.f.hyperbolic=StarJs.f.Z;StarJs.f.keplerPos=StarJs.f.sa;StarJs.f.gaussVec=StarJs.f.U;
StarJs.Solar=StarJs.d;StarJs.d.EPS=StarJs.d.J;StarJs.d.approxMoon=StarJs.d.D;StarJs.d.approxSun=StarJs.d.u;StarJs.d.sunAndMoonEvents=StarJs.d.ya;StarJs.d.Sun=StarJs.d.C;StarJs.d.GM=StarJs.d.R;StarJs.d.Body=StarJs.d.q;StarJs.d.BODIES=StarJs.d.ea;StarJs.Time=StarJs.j;StarJs.j.time2mjd=StarJs.j.za;StarJs.j.mjd2dt=StarJs.j.ua;StarJs.j.hms2hour=StarJs.j.W;StarJs.j.hour2hms=StarJs.j.X;StarJs.j.dt2mjd=StarJs.j.ma;StarJs.j.mjd2jct=StarJs.j.P;StarJs.j.gmst=StarJs.j.V;StarJs.Vector=StarJs.c;
StarJs.c.Vector3=StarJs.c.k;StarJs.c.k.prototype.len=StarJs.c.k.prototype.ta;StarJs.c.k.prototype.add=StarJs.c.k.prototype.add;StarJs.c.k.prototype.sub=StarJs.c.k.prototype.sub;StarJs.c.k.prototype.neg=StarJs.c.k.prototype.va;StarJs.c.k.prototype.scale=StarJs.c.k.prototype.scale;StarJs.c.k.prototype.clone=StarJs.c.k.prototype.K;StarJs.c.Polar3=StarJs.c.m;StarJs.c.m.prototype.toVector3=StarJs.c.m.prototype.G;StarJs.c.m.prototype.clone=StarJs.c.m.prototype.K;StarJs.c.Matrix3=StarJs.c.g;
StarJs.c.g.prototype.apply=StarJs.c.g.prototype.apply;StarJs.c.g.prototype.mult=StarJs.c.g.prototype.v;StarJs.c.g.r_x=StarJs.c.g.A;StarJs.c.g.r_y=StarJs.c.g.F;StarJs.c.g.r_y=StarJs.c.g.F;
